<!DOCTYPE html>
<html>
  <head>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Crete+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified JavaScript -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <script src="main.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="https://south-bend-code-school.github.io/Student-Site/SBCS_favicon.png">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Unity Student Guide 7c - Player Health</title>
  </head>

  <body>
    <!--Nav bar  -->
    <nav class="light-blue lighten-1">
      <div class="nav-wrapper">
        <a href="#!"></a>
        <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        <ul class="hide-on-med-and-down">
          <li><a href="home.html">Home</a></li>
          <li><a href="scratch.html">Ages 7-12</a></li>
          <li><a href="techimmersion.html">Ages 13-18</a></li>
        </ul>
      </div>
    </nav>

    <ul class="sidenav" id="mobile-demo">
      <li><a href="home.html">Home</a></li>
      <li><a href="scratch.html">Ages 7-12</a></li>
      <li><a href="techimmersion.html">Ages 13-18</a></li>
    </ul>

    <!--html Lesson: Project Title -->
    <div class="row">
      <div class="col s6 offset-s1">
        <h4>Unity Student Guide 7c - Health Bar</h4>
		<h5>While we have already added a player, there are no consquences to the game.</h5>
		<p>Player health, just like enemies, adds an element of excitement to the game. Just like how you guided your player through certain elements of the game for storyline or collectables, a new player has to learn to avoid certain enemies or occurances that would cause damage.</p>
    <img src="./unity_images/healthbar2.gif" width="400px">
    <p><i>God of War</i></p>
    <br>
    <p><strong>Helpful Links:</strong></p>
		<p><a href="https://docs.unity3d.com/Manual/script-Slider.html">Slider Docs</a></p>
    <br>
        <p>In order for the enemy attack to do damage, we need to do 3 things:</p>
          <ol>
            <li>Create a health system for the player (and health bar)</li>
            <li>Detect when the player is being hit</li>
            <li>Subtract health when the player is hit</li>
          </ol>
          <img src="./unity_images/healthbar1.gif" width="400px">
          <p><i>League of Legends</i></p>
     </div>
    </div>


      <div class="row">
        <div class="col s6 offset-s1">
          <h4>Health Bar</h4>
		    </div>
      </div>

    <div class="row">
      <!--Lesson Checkbox Div-->
      <div class="col s1 offset-s1">
        <div class="checkbox">
          <form action="#">
            <p>
              <label>
                <input type="checkbox" />
                <span></span>
              </label>
            </p>
          </form>
        </div>
      </div>
      <!--Instruction Div-->
      <div class="col s6">
        <div class="projectsection1">
          <p>Let’s add a health bar to our UI. We’re going to use a component called a <strong>Slider</strong> for this.</p>
          <p>Right-click  →  <strong>UI</strong>  →  <strong>Slider</strong></p>
          <p>Rename it <strong>PlayerHealthBar</strong>. If you go to the Canvas, you’ll see it.</p>
          <img src="./unity_images/healthbar3.JPG" width="300px">
          <p>You can move it using this icon in the Inspector (we used this for the text before):</p>
          <img src="./unity_images/healthbar4.JPG" width="150px">
          <p>Hold <strong>Alt + Shift</strong> while clicking the location you want on the pop-up window to move it there.</p>
          <p>We need to update its values. The minimum value should be zero, and the max value should be whatever your max health will be (probably 100).</p>
          <img src="./unity_images/healthbar5.JPG" width="300px">
	   </div>
      </div>
    </div>

    <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <p>This slider has a big handle on it (sliders are also used for UI components that players can drag with the mouse). We don’t want players to drag their health to whatever they want (or maybe you do)! Look at the slider in the Hierarchy. It has 3 children (Handle Slide Area, Background, Fill Area). <strong>Delete the Handle Slide Area.</strong> Then, you can change the colors of these:</p>
            <p><strong>Background</strong> - this is the color of the background of the bar (i.e. when it is empty)</p>
            <p><strong>Fill</strong> - this is the color of the fill (i.e. when it is full). Fill is a child of Fill Area.</p>
            <p><strong>To fix the gap that appeared when we deleted the handle:</strong></p>
            <p>Go to the fill area and change the left and right values in the Rect Transform to 0. Then go to the fill object (child of the fill area) and change the Rect Transform width value to 0.</p>
            <p><img src="./unity_images/healthbar6.JPG" width="200px"></p>
            <p><img src="./unity_images/healthbar7.JPG" width="200px"></p>

            </div>
        </div>
      </div>
      <div class="row">
        <div class="col s6 offset-s1">
          <h4>Health System</h4>
		    </div>
      </div>

    <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <p>Now we have a health bar, but it has nothing to track. It’s time to add a health system to our player. Since the health bar is on the HUD, we’re going to use the <strong>HUD_Manager</strong> script. (Remember that this is attached to the <strong>PlayerController</strong> Object).</p>
            <p>Open the script. We’re going to need two variables - one for the <strong>StartingHealth</strong>, and one for the <strong>CurrentHealth</strong>.</p>
		       </div>
        </div>
      </div>
      <div class="row">
         <div class="col s1 offset-s1">
           <div class="worldbuilding-tip">
             <i class="pin"></i>
               <h6><i>Challenge Mode!</i><h6>
                  <blockquote class="worldbuilding-tip-quote">
                     <p>Declare these two variables.</p>
                     <p>We will want them to be whole numbers (no decimal points). We don’t need to access these in the Inspector.</p>
                     <p>Then, in the Start function, what should you set the <strong>StartingHealth</strong> to? And then, what line will we use to set <strong>CurrentHealth</strong> to the right value?</p>
                     <p>We’re going to declare a new function. It will have the name <strong>UpdateHealth</strong>. </p>
                     <p>We will need it to:</p>
                     <ol>
                       <li>Be accessible to other scripts</li>
                       <li>Return void</li>
                       <li>Have a parameter that is an integer called <strong>amount</strong></li>
                    </ol>
                    <p>In the function, it must:</p>
                    <ol>
                      <li>Add the <strong>amount</strong> to <strong>CurrentHealth</strong>.</li>
                    </ol>
                    <p>Create the function and show it to an instructor before continuing!</p>


                  </blockquote>
                  <br>
       </div>
       </div>
     </div>

     <div class="row">
       <div class="col s6 offset-s1">
         <h4>Linking the Health Bar</h4>
       </div>
     </div>

	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
		          <p>Now we just need the Health Bar to adjust according to the <strong>CurrentHealth</strong>. Staying in the <strong>HUD_Manager</strong> script:
              <p>Declare a public variable of type Slider. Call it healthbar.</p>
		       </div>
        </div>
      </div>

      <div class="row">
      <!--Lesson Checkbox Div-->
      <div class="col s1 offset-s1">
        <div class="checkbox">
          <form action="#">
              <p>
                <label>
                  <input type="checkbox" />
                  <span></span>
                </label>
              </p>
          </form>
        </div>
      </div>
      <!--Instruction Div-->
      <div class="col s6">
        <div class="projectsection1">
            <p>In the Start function, use this line to connect the healthbar variable to the <strong>PlayerHealthBar</strong>:</p>
            <p><img src="./unity_images/healthbar8.JPG" width="500px"></p>

         </div>
      </div>
    </div>

    <div class="row">
    <!--Lesson Checkbox Div-->
    <div class="col s1 offset-s1">
      <div class="checkbox">
        <form action="#">
            <p>
              <label>
                <input type="checkbox" />
                <span></span>
              </label>
            </p>
        </form>
      </div>
    </div>
    <!--Instruction Div-->
    <div class="col s6">
      <div class="projectsection1">
          <p>Now, use this line to update the HealthBar value to the <strong>CurrentHealth</strong>:</p>
          <p><img src="./unity_images/healthbar9.JPG" width="300px"></p>
          <p>Make sure you put that in the right place in the Start function.</p>
       </div>
    </div>
  </div>

  <div class="row">
     <div class="col s1 offset-s1">
   <div class="worldbuilding-tip">
         <i class="pin"></i>
           <h6><i>Challenge Mode!</i><h6>
              <blockquote class="worldbuilding-tip-quote">
                <p>We need to use the line above in one more place</p>
                <p>Where?</p>
              </blockquote>
              <br>
   </div>
   </div>
 </div>


      <div class="row">
        <div class="col s6 offset-s1">
          <h4>Losing Health</h4>
		    </div>
      </div>

	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
              <p>Now we just need to call the <strong>UpdateHealth</strong> function when we get hit! Right now, though, there’s no way to check that.</p>
              <p>If you want your enemy to attack with a weapon, go download the model of a melee weapon from the <strong>Asset Store</strong>.</p>
          </div>
        </div>
      </div>


	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <h6>To make your enemy hold the weapon:</h6>
            <p>Open the <strong>EnemyController</strong> with the arrow next to it in the Hierarchy to see its children. Then open your model. The model is actually composed of many different parts.</p>
            <img src="./unity_images/healthbar10.JPG" width="200px">
            <p>Now if you keep on opening up the enemy with the arrows, you will eventually find the hand. Or something like it. Depending on which hand your enemy uses <strong>make the prefab of your newly downloaded weapon a <i>child</i> of that hand</strong>. Then, use the <strong>move, rotate, and scale</strong> tools to make it look like the enemy is holding that weapon. <strong>By making it a <i>child</i>, we make it move with the hand in the attack animation</strong>.</p>
            <p><i>//Recommendation: it may be useful to switch to local mode in movement. Check the <a href="movementtools.html">movement tools cheat sheet</a>!</i></p>
            <img src="./unity_images/healthbar11.JPG" width="200px">
            <p>Now our enemy has a weapon! Next, we need a way to detect that the weapon is hitting the player! We need a collider. Add a box collider component to your weapon.</p>
	       </div>
        </div>
      </div>
      <div class="row">
         <div class="col s1 offset-s1">
       <div class="worldbuilding-tip">
             <i class="pin"></i>
               <h6><i>Challenge Mode!</i><h6>
                  <blockquote class="worldbuilding-tip-quote">
                    <p>We want the collider to detect when it touches the player, but we don’t want it to actually hit the player and affect the player’s movement. <i>What setting do we need to change on the collider for that?</i></p>
                  </blockquote>
                  <br>
       </div>
       </div>
     </div>


      <div class="row">
      <!--Lesson Checkbox Div-->
      <div class="col s1 offset-s1">
        <div class="checkbox">
          <form action="#">
              <p>
                <label>
                  <input type="checkbox" />
                  <span></span>
                </label>
              </p>
          </form>
        </div>
      </div>
      <!--Instruction Div-->
      <div class="col s6">
        <div class="projectsection1">
          <p>Now that we have the collider all set up, it’s time to add a new script to the weapon. Call it <strong>HitPlayer</strong>.</p>
          <p>This script will call the UpdateHealth function of the HUD_Manager when the weapon hits the player. We need:</p>
            <ol>
              <li>Link the <strong>HUD_Manager</strong> script</li>
              <li>An OnTriggerEnter function (remember this from the <strong>CollectableScript</strong>?)</li>
              <li>Call the UpdateHealth function in that function</li>
            </ol>
          <p>First, declare a variable to link the <strong>HUD_Manager</strong> (is this getting familiar yet?), and an integer variable for damage (this is going to be passed to the UpdateHealth function).</p>
          <img src="./unity_images/healthbar12.JPG" width="300px">
        </div>
      </div>
    </div>

    <div class="row">
    <!--Lesson Checkbox Div-->
    <div class="col s1 offset-s1">
      <div class="checkbox">
        <form action="#">
            <p>
              <label>
                <input type="checkbox" />
                <span></span>
              </label>
            </p>
        </form>
      </div>
    </div>
    <!--Instruction Div-->
    <div class="col s6">
      <div class="projectsection1">
        <p>Then, initialize the hudmanager to finish the link in the Start function.</p>
        <img src="./unity_images/healthbar13.JPG" width="600px">
      </div>
    </div>
  </div>

  <div class="row">
  <!--Lesson Checkbox Div-->
  <div class="col s1 offset-s1">
    <div class="checkbox">
      <form action="#">
          <p>
            <label>
              <input type="checkbox" />
              <span></span>
            </label>
          </p>
      </form>
    </div>
  </div>
  <!--Instruction Div-->
  <div class="col s6">
    <div class="projectsection1">
      <p>Next, add the OnTriggerEnter function (remember that it takes a parameter of the thing we’re colliding with:</p>
      <img src="./unity_images/healthbar14.JPG" width="300px">
    </div>
  </div>
</div>

<div class="row">
   <div class="col s1 offset-s1">
     <div class="worldbuilding-tip">
       <i class="pin"></i>
         <h6><i>Challenge Mode!</i><h6>
            <blockquote class="worldbuilding-tip-quote">
              <p>Finish the OnTriggerEnter function!</p>
              <p><i>Hints: make sure we’re only subtracting health if we’re hitting the player! If you need help with this, check the CollectableScript’s OnTriggerEnter function (it’s very similar).</i></p>
              <p><i>Don’t forget to set the AttackDamage in the Inspector! (Hint: make it negative)</i></p>
            </blockquote>
            <br>
    </div>
 </div>
</div>

<div class="row">
<!--Lesson Checkbox Div-->
<div class="col s1 offset-s1">
  <div class="checkbox">
    <form action="#">
        <p>
          <label>
            <input type="checkbox" />
            <span></span>
          </label>
        </p>
    </form>
  </div>
</div>
<!--Instruction Div-->
<div class="col s6">
  <div class="projectsection1">
    <h6>Test your game</h6>
    <p>Does it work?</p>
    <p>If you’ve done everything right, you should have a working health bar! The only problem is that you can’t die.</p>
    <img src="./unity_images/healthbar14.JPG" width="400px">
  </div>
</div>
</div>



	  		    <!--html Lesson: Directions Start Here-->
    <div class="row">
      <div class="col s6 offset-s1">
        <h4>Killing the Player</h4>
      </div>
    </div>

	  	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <p>The player should die if their health goes to zero. Go back to the HUD_Manager script. Let’s create a new function called <strong>Death</strong>.</p>
            <img src="./unity_images/healthbar15.JPG" width="200px">
		      </div>
        </div>
      </div>
      <div class="row">
  <!--Lesson Checkbox Div-->
  <div class="col s1 offset-s1">
    <div class="checkbox">
      <form action="#">
          <p>
            <label>
              <input type="checkbox" />
              <span></span>
            </label>
          </p>
      </form>
    </div>
  </div>
  <!--Instruction Div-->
  <div class="col s6">
    <div class="projectsection1">
      <p>It doesn’t need any parameters and it returns null. This function will reload the level if the player dies. To do that, we need to:</p>
        <ol>
          <li>Add the SceneManager namespace</li>
              <ul>
              <li>→ Add the line <strong>using UnityEditor.SceneManagement;</strong> to the top</li>
              </ul>
          <li>Restart the level in the Death function</li>
              <ul>
                <li>→ Add the line <strong>SceneManager.LoadScene(<i>YOURLEVELNAME</i>);</strong> to the Death function.</li>
              </ul>
          <li>Call the death function when health is too low.</li>
          </ol>
    </div>
  </div>
</div>

<div class="row">
   <div class="col s1 offset-s1">
     <div class="worldbuilding-tip">
       <i class="pin"></i>
         <h6><i>Challenge Mode!</i><h6>
            <blockquote class="worldbuilding-tip-quote">
              <p>Add an if-then statement to the UpdateHealth function that checks if CurrentHealth is equal to or lower than zero (<strong><=</strong> will check that). Call the Death function if it is.</p>
            </blockquote>
            <br>
    </div>
 </div>
</div>

<div class="row">
    <!--Lesson Checkbox Div-->
      <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
              <p>
                <label>
                  <input type="checkbox" />
                  <span></span>
                </label>
              </p>
            </form>
          </div>
        </div>
<!--Instruction Div-->
  <div class="col s6">
    <div class="projectsection1">
      <p>The last thing we need to do is check the <strong>build settings</strong>.</p>
    </div>
  </div>
</div>


	  	  		    <!--html Lesson: Directions Start Here-->
    <div class="row">
      <div class="col s6 offset-s1">
        <h4>Build Settings</h4>
      </div>
    </div>
		  	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
		          <p>Our players are not going to be playing this game in the editor. We’re going to <strong>build</strong> a runnable version of the game so they don’t have to see all of the code! Some functions, like the <strong>SceneManager.</strong> function, need scenes to be in the <strong>Build Settings</strong> to use.</p>
              </div>
        </div>
      </div>

	  		  	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <p>To open the build settings, go to:</p>
            <p><strong>File</strong> → <strong>Build Setting</strong></p>
		      </div>
        </div>
      </div>


	  	  		  	      <div class="row">
        <!--Lesson Checkbox Div-->
        <div class="col s1 offset-s1">
          <div class="checkbox">
            <form action="#">
                <p>
                  <label>
                    <input type="checkbox" />
                    <span></span>
                  </label>
                </p>
            </form>
          </div>
        </div>
        <!--Instruction Div-->
        <div class="col s6">
          <div class="projectsection1">
            <p>Click <strong>Add Open Scenes</strong> to add your scene to the Build Settings!</p>
            <img src="./unity_images/healthbar16.JPG" width="500px">
	        </div>
        </div>
      </div>

<!--html Lesson: Directions Start Here-->
<div class="row">
<div class="col s6 offset-s1">
<h4>Testing the Game</h4>
</div>
</div>

<div class="row">
<!--Lesson Checkbox Div-->
<div class="col s1 offset-s1">
<div class="checkbox">
  <form action="#">
      <p>
        <label>
          <input type="checkbox" />
          <span></span>
        </label>
      </p>
  </form>
</div>
</div>
<!--Instruction Div-->
<div class="col s6">
<div class="projectsection1">
<h6>Try playing the game</h6>
<p>Does your healthbar go down?</p>
<p>Do you die?</p>
<p>Does the game restart?</p>
<br>
<p>Start thinking about an ending scene for when the player dies</p>
<p>Something simple works, or you can animate an elaborate cut scene</p>
<img src="./unity_images/healthbar17.gif" width="300px">
<p>Now you can die! I’m sick of letting this enemy bully us, though. In the next guide, it is time to fight back.</p>
</div>
</div>
</div>

	  		    <div class="row">
      <!--Lesson Checkbox Div-->
      <div class="col s1 offset-s1">
        <div class="checkbox">
          <form action="#">
            <p>
              <label>
                <input type="checkbox" />
                <span></span>
              </label>
            </p>
          </form>
        </div>
      </div>
      <!--Instruction Div-->
      <div class="col s6">
        <div class="projectsection1">
          <h5>Save your project</h5>
		  <br>
      </div>
	  </div>
	  </div>

	  <br>
	  <br>
    <!--Project Complete Banner-->
    <div class="row blue white-text">
	<br>
        <h5 style="text-align:center;">Power up</h5>
	<br>
    </div>
	<br>
	<br>

        <!--Card: Prompt - Find Another Project-->
        <div class="row">
          <div class="col s4 offset-s2">
            <div class="card findanotherproject">
              <div class="card-content">
                <div class="cardDescription">
                  <h6>Find another project?</h6>
                  <div class="browse">
                    <br>
                    <a href="techimmersion.html">
                      <button>Browse all projects</button>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </body>
    </html>
